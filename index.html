<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Active LED Calculator - PeopleLink</title>
<style>
body {
  font-family: Arial, sans-serif;
  margin: 0; padding: 0;
  background: #f9f9f9;
}
header {
  background: #004080;
  color: white;
  padding: 20px;
  text-align: center;
}
.logo {
  height: 50px;
  display: block;
  margin: 0 auto 10px auto;
}
h1 { margin:0; font-size:24px; }
main {
  max-width:600px;
  margin:20px auto;
  padding:20px;
  background:white;
  border-radius:8px;
  box-shadow:0 0 10px rgba(0,0,0,0.1);
}
.form-group { margin-bottom:15px; }
label { display:block; margin-bottom:5px; font-weight:bold; }
input, select {
  width:100%;
  padding:8px;
  box-sizing:border-box;
}
button {
  padding:10px 20px;
  background:#004080;
  color:white;
  border:none;
  border-radius:4px;
  cursor:pointer;
}
button:hover { background:#002850; }
.results {
  margin-top:20px;
  padding:15px;
  background:#e6f0ff;
  border-radius:6px;
}
</style>
</head>
<body>
<header>
  <img src="images/peoplelink-logo.png" alt="PeopleLink Logo" class="logo">
  <h1>Active LED Calculator</h1>
</header>

<main>
  <div class="calculator">
    <div class="form-group">
      <label for="ledType">LED Type:</label>
      <select id="ledType">
        <option value="">--Select Type--</option>
        <option value="COB Indoor">COB Indoor</option>
        <option value="SMD Indoor">SMD Indoor</option>
        <option value="SMD Outdoor">SMD Outdoor</option>
      </select>
    </div>

    <div class="form-group">
      <label for="pixelPitch">Pixel Pitch (mm):</label>
      <select id="pixelPitch">
        <option value="">--Select Pixel Pitch--</option>
      </select>
    </div>

    <div class="form-group">
      <label for="screenWidth">Screen Width (mm):</label>
      <input type="number" id="screenWidth" placeholder="Enter width">
    </div>

    <div class="form-group">
      <label for="screenHeight">Screen Height (mm):</label>
      <input type="number" id="screenHeight" placeholder="Enter height">
    </div>

    <button id="calculateBtn">Calculate</button>
  </div>

  <div class="results">
    <h2>Results</h2>
    <p id="resolution"></p>
    <p id="aspectRatio"></p>
    <p id="viewingDistance"></p>
    <p id="cabinets"></p>
    <p id="controllers"></p>
  </div>
</main>

<script>
const ledTypeSelect = document.getElementById('ledType');
const pixelPitchSelect = document.getElementById('pixelPitch');
const screenWidthInput = document.getElementById('screenWidth');
const screenHeightInput = document.getElementById('screenHeight');
const calculateBtn = document.getElementById('calculateBtn');

const resolutionOutput = document.getElementById('resolution');
const aspectRatioOutput = document.getElementById('aspectRatio');
const viewingDistanceOutput = document.getElementById('viewingDistance');
const cabinetsOutput = document.getElementById('cabinets');
const controllersOutput = document.getElementById('controllers');

const ledData = {
  "COB Indoor":[
    {pitch:0.9, cabinetW:600, cabinetH:337.5},
    {pitch:1.25, cabinetW:600, cabinetH:337.5},
    {pitch:1.5, cabinetW:600, cabinetH:337.5}
  ],
  "SMD Indoor":[
    {pitch:1.86, cabinetW:640, cabinetH:480},
    {pitch:2, cabinetW:640, cabinetH:480},
    {pitch:2.5, cabinetW:640, cabinetH:480}
  ],
  "SMD Outdoor":[
    {pitch:4, cabinetW:960, cabinetH:960},
    {pitch:6.67, cabinetW:960, cabinetH:960},
    {pitch:8, cabinetW:960, cabinetH:960},
    {pitch:10, cabinetW:960, cabinetH:960}
  ]
};

// Populate pixel pitch based on LED type
ledTypeSelect.addEventListener('change', () => {
  const type = ledTypeSelect.value;
  pixelPitchSelect.innerHTML = '<option value="">--Select Pixel Pitch--</option>';
  if(ledData[type]){
    ledData[type].forEach(d=>{
      const option = document.createElement('option');
      option.value = d.pitch;
      option.text = d.pitch;
      pixelPitchSelect.appendChild(option);
    });
  }
});

calculateBtn.addEventListener('click', () => {
  const type = ledTypeSelect.value;
  const pitch = parseFloat(pixelPitchSelect.value);
  const width = parseFloat(screenWidthInput.value);
  const height = parseFloat(screenHeightInput.value);

  if(!type || !pitch || !width || !height){
    alert('Please fill all inputs');
    return;
  }

  const data = ledData[type].find(d=>d.pitch===pitch);
  const cabinetW = data.cabinetW;
  const cabinetH = data.cabinetH;

  // Calculations
  const widthPixels = Math.round(width / pitch);
  const heightPixels = Math.round(height / pitch);
  const aspect = (width/height).toFixed(2);
  const viewingDistance = (pitch * 3).toFixed(2); // meters
  const cabinetsW = Math.ceil(width / cabinetW);
  const cabinetsH = Math.ceil(height / cabinetH);
  const totalCabinets = cabinetsW * cabinetsH;

  // Controllers logic
  let controllers = [];
  if(widthPixels <= 1920 && heightPixels <= 1200) controllers.push("VX400 Pro");
  if(widthPixels <= 3840 && heightPixels <= 2160) controllers.push("VX600 Pro","4K Prime","TB40");
  if(widthPixels <= 7680 && heightPixels <= 4320) controllers.push("VX1000 Pro","H Series","TB60");

  // Display
  resolutionOutput.textContent = `Resolution: ${widthPixels} × ${heightPixels} pixels`;
  aspectRatioOutput.textContent = `Aspect Ratio: ${aspect}:1`;
  viewingDistanceOutput.textContent = `Optimal Viewing Distance: ${viewingDistance} meters`;
  cabinetsOutput.textContent = `Cabinets Needed: ${totalCabinets} (${cabinetsW} × ${cabinetsH})`;
  controllersOutput.textContent = `Recommended Controllers: ${controllers.join(", ")}`;
});
</script>
</body>
</html>
